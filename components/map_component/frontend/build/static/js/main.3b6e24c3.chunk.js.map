{"version":3,"sources":["MapComponent.tsx","index.tsx"],"names":["Point","props","dot_class","event_type","game_index","React","createElement","className","clicked","onClick","Tooltip","_React$Component","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","value","ttxPoint","ttyPoint","left","this","xP","top","yP","width","height","ttHeaderText","ttAssisterText","assisters","killer_champ","victim_champ","assist_champs","length","forEach","champ","style","position","event_time","Component","Indicator","_React$Component2","_super2","_this","call","state","showTooltip","setState","_this2","WIDTH","map_width","HEIGHT","map_height","xPoint","x_coord","yPoint","y_coord","bottom","handleClick","MapComponent","_StreamlitComponentBa","_super3","_this3","_len","args","Array","_key","concat","render","x_coords","y_coords","events","time_range","game_array","indicatorList","map","xCoord","index","includes","id","src","alt","StreamlitComponentBase","withStreamlitConnection","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3b6e24c3.chunk.js","sourcesContent":["import {\r\n  StreamlitComponentBase,\r\n  withStreamlitConnection,\r\n} from \"streamlit-component-lib\";\r\nimport React, { ReactNode } from \"react\";\r\n\r\nfunction Point(props: any) {\r\n  let dot_class = \"dot\";\r\n  switch (props.event_type) {\r\n    case \"Kills\":\r\n      dot_class += \" kill_dot\";\r\n      break;\r\n    case \"Deaths\":\r\n      dot_class += \" death_dot\";\r\n      break;\r\n    case \"Assists\":\r\n      dot_class +=\" assist_dot\";\r\n      break;\r\n    case \"Dragons\":\r\n      dot_class += \" dragon_dot\";\r\n      break;\r\n    case \"Heralds\":\r\n      dot_class += \" herald_dot\";\r\n      break;\r\n    case \"Barons\":\r\n      dot_class += \" baron_dot\";\r\n      break;\r\n    case \"Buildings\":\r\n      dot_class += \" building_dot\";\r\n      break;\r\n  }\r\n  dot_class += \" game\" + props.game_index\r\n  return (\r\n    <button\r\n      className={props.clicked ? \"dot clicked-dot game\" + props.game_index : dot_class}\r\n      onClick={props.onClick}\r\n    ></button>\r\n  );\r\n}\r\n\r\ninterface ITooltipProps {\r\n  xP: number;\r\n  yP: number;\r\n  killer_champ?: string;\r\n  victim_champ?: string;\r\n  assist_champs?: any;\r\n  width: number;\r\n  height: number;\r\n  event_type: string;\r\n  event_time: string;\r\n}\r\n\r\nclass Tooltip extends React.Component<ITooltipProps> {\r\n  render() {\r\n    var ttxPoint;\r\n    var ttyPoint;\r\n\r\n    /**\r\n     * adjust tooltip width/height in case of overflow\r\n     */\r\n    var left = this.props.xP;\r\n    var top = this.props.yP;\r\n    var width = this.props.width;\r\n    var height = this.props.height;\r\n    if (left + 310 > width && top + 170 > height) {\r\n      ttxPoint = left - 325;\r\n      ttyPoint = height - top - 10;\r\n    } else if (left + 310 > width) {\r\n      ttxPoint = left - 325;\r\n      ttyPoint = height - top - 170;\r\n    } else if (top + 170 > height) {\r\n      ttxPoint = left;\r\n      ttyPoint = height - top - 10;\r\n    } else {\r\n      ttxPoint = left;\r\n      ttyPoint = height - top - 170;\r\n    }\r\n\r\n    var ttHeaderText = \"\";\r\n    var ttAssisterText = \"\";\r\n    var assisters = \"\";\r\n    \r\n    switch (this.props.event_type) {\r\n      case \"Kills\":\r\n        ttHeaderText += \"You (\" + this.props.killer_champ + \") have slain \" + this.props.victim_champ;\r\n        if(this.props.assist_champs.length > 0) {\r\n          \r\n          this.props.assist_champs.forEach(function (champ: string) {\r\n            assisters += champ + ' ';\r\n          });\r\n          ttAssisterText += \"Assisted by: \" + assisters\r\n        }\r\n        else {\r\n          ttAssisterText += \"No assists\"\r\n        }\r\n        break;\r\n      case \"Deaths\":\r\n        ttHeaderText += \"You (\" + this.props.victim_champ + \") were slain by \" + this.props.killer_champ;\r\n        if(this.props.assist_champs.length > 0) {\r\n          this.props.assist_champs.forEach(function (champ: string) {\r\n            assisters += champ + ' ';\r\n          });\r\n          ttAssisterText += \"Assisted by: \" + assisters\r\n        }\r\n        else {\r\n          ttAssisterText += \"No assists\"\r\n        }\r\n        break;\r\n      case \"Assists\":\r\n        ttHeaderText += \"You assisted \" + this.props.killer_champ + \" to slay \" + this.props.victim_champ;\r\n        this.props.assist_champs.forEach(function (champ: string) {\r\n          assisters += champ + ' ';\r\n        });\r\n        ttAssisterText += \"Assisted by: \" + assisters\r\n        break;\r\n      case \"Dragons\":\r\n        ttHeaderText += \"Your Team (\" + this.props.killer_champ + \") has slain the Dragon\";\r\n        if(this.props.assist_champs.length > 0) {\r\n          this.props.assist_champs.forEach(function (champ: string) {\r\n            assisters += champ + ' ';\r\n          });\r\n          ttAssisterText += \"Assisted by: \" + assisters\r\n        }\r\n        else {\r\n          ttAssisterText += \"No assists\"\r\n        }\r\n        break;\r\n      case \"Heralds\":\r\n        ttHeaderText += \"Your Team (\" + this.props.killer_champ + \") has slain the Herald\";\r\n        break;\r\n      case \"Barons\":\r\n        ttHeaderText += \"Your Team (\" + this.props.killer_champ + \") has slain the Baron\";\r\n        break;\r\n      case \"Buildings\":\r\n        ttHeaderText += \"You (\" + this.props.killer_champ + \") destroyed an enemy Building\";\r\n        break;\r\n    }\r\n\r\n    return (\r\n      <div\r\n        className=\"ind-tooltip\"\r\n        style={{\r\n          position: \"fixed\",\r\n          left: ttxPoint + \"px\",\r\n          top: ttyPoint + \"px\",\r\n        }}\r\n      >\r\n        <div className=\"tooltip-header\">{ttHeaderText}</div>\r\n        <div>\r\n          Timestamp Match: <b>{this.props.event_time}</b> <br /> {ttAssisterText}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\ninterface IIndicatorProps {\r\n  x_coord: number;\r\n  y_coord: number;\r\n  killer_champ?: string;\r\n  victim_champ?: string;\r\n  assist_champs?: any;\r\n  event_type: string;\r\n  event_time: string;\r\n  game_index: number;\r\n  map_height: number;\r\n  map_width: number;\r\n}\r\n\r\ninterface IIndicatorState {\r\n  showTooltip?: boolean;\r\n}\r\n\r\nclass Indicator extends React.Component<IIndicatorProps, IIndicatorState> {\r\n  constructor(props: IIndicatorProps) {\r\n    super(props);\r\n    this.state = {\r\n      showTooltip: false,\r\n    };\r\n  }\r\n\r\n  handleClick() {\r\n    this.setState({ showTooltip: !this.state.showTooltip });\r\n  }\r\n\r\n  render() {\r\n    const WIDTH = this.props.map_width;\r\n    const HEIGHT = this.props.map_height;\r\n\r\n    var x_percent = this.props.x_coord / 16000;\r\n    var y_percent = this.props.y_coord / 16000;\r\n\r\n    var xPoint = WIDTH * x_percent;\r\n    var yPoint = HEIGHT * y_percent;\r\n\r\n    return (\r\n      <div\r\n        className=\"indicator\"\r\n        style={{ left: xPoint + \"px\", bottom: yPoint + \"px\" }}\r\n      >\r\n        {this.state.showTooltip && (\r\n          <Tooltip\r\n            xP={xPoint}\r\n            yP={yPoint}\r\n            killer_champ={this.props.killer_champ}\r\n            victim_champ={this.props.victim_champ}\r\n            assist_champs={this.props.assist_champs}\r\n            width={WIDTH}\r\n            height={HEIGHT}\r\n            event_type={this.props.event_type}\r\n            event_time={this.props.event_time}\r\n          />\r\n        )}\r\n        <Point\r\n          onClick={() => this.handleClick()}\r\n          clicked={this.state.showTooltip}\r\n          event_type={this.props.event_type}\r\n          game_index={this.props.game_index}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass MapComponent extends StreamlitComponentBase {\r\n  public render = (): ReactNode => {\r\n    // Arguments that are passed to the plugin in Python are accessible\r\n    // via `this.props.args`.\r\n    const x_coords = this.props.args[\"x_coords\"];\r\n    const y_coords = this.props.args[\"y_coords\"];\r\n    const killer_champ = this.props.args[\"killer_champ\"];\r\n    const victim_champ = this.props.args[\"victim_champ\"];\r\n    const assist_champs = this.props.args[\"assist_champs\"]\r\n    const event_type = this.props.args[\"event_type\"];\r\n    const events = this.props.args[\"events\"];\r\n    const event_time = this.props.args[\"event_time\"];\r\n    const time_range = this.props.args[\"time_range\"];\r\n    const game_index = this.props.args[\"game_index\"];\r\n    const game_array = this.props.args[\"game_array\"];\r\n    const map_width = this.props.width;\r\n    const map_height = map_width * 0.767;\r\n\r\n    const indicatorList = x_coords.map(\r\n      (xCoord: number, index: number) =>\r\n        events.includes(event_type[index]) &&\r\n        game_array[game_index[index]] &&\r\n        event_time[index] >= time_range[0] &&\r\n        event_time[index] <= time_range[1] && (\r\n          <Indicator\r\n            key={index}\r\n            x_coord={xCoord}\r\n            y_coord={y_coords[index]}\r\n            killer_champ={killer_champ[index]}\r\n            victim_champ={victim_champ[index]}\r\n            assist_champs={assist_champs[index]}\r\n            event_type={event_type[index]}\r\n            event_time={event_time[index]}\r\n            game_index={game_index[index]}\r\n            map_height={map_height}\r\n            map_width={map_width}\r\n          />\r\n        )\r\n    );\r\n\r\n    return (\r\n      <div id=\"zoom\">\r\n        <img\r\n          src=\"SR_adjusted_cp.png\"\r\n          id=\"map_img\"\r\n          alt=\"summoners_rift\"\r\n          style={{ height: map_height + \"px\" }}\r\n        ></img>\r\n        <div className=\"scatter\">{indicatorList}</div>\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\n// \"withStreamlitConnection\" is a wrapper function. It bootstraps the\r\n// connection between your component and the Streamlit app, and handles\r\n// passing arguments from Python -> Component.\r\n\r\nexport default withStreamlitConnection(MapComponent);\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport MapComponent from \"./MapComponent\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <MapComponent />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n)\r\n"],"sourceRoot":""}